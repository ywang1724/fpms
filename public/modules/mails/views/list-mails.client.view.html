<section data-ng-controller="MailsController" data-ng-init="find()">
    <div class="page-header">
        <h1>邮件列表</h1>
    </div>
    <table datatable="ng" dt-options="dtOptions" class="table table-striped table-bordered table-hover myTable"
           data-ng-if="mails.length">
        <thead>
        <tr>
            <th>发送时间</th>
            <th>收件人</th>
            <th>主题</th>
            <th>发送状态</th>
            <th>查看详情</th>
        </tr>
        </thead>
        <tbody>
        <tr data-ng-repeat="mail in mails">
            <td>{{ mail.sendTime | date:'yyyy-MM-dd HH:mm:ss' }}</td>
            <td>{{ mail.receiver }}</td>
            <td>{{ mail.theme }}</td>
            <td ng-switch="mail.status">
                <span ng-switch-when="1">发送成功</span>
                <span ng-switch-when="2">发送失败</span>
            </td>
            <td>详情</td>
        </tr>
        </tbody>
    </table>
    <div class="alert alert-warning text-center" data-ng-if="mails.$resolved && !mails.length">
        没有任何邮件。
    </div>
    <div data-ng-show="error" class="text-center text-danger">
        <strong data-ng-bind="error"></strong>
    </div>
</section>
