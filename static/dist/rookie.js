!function(){"use strict";var rookie={errs:[]};window.performance.timing?rookie.navTiming=window.performance.timing:rookie.errs.push("浏览器不支持Navigation Timing API！"),window.performance.getEntriesByType?rookie.resTimings=window.performance.getEntriesByType("resource"):rookie.errs.push("浏览器不支持Resource Timing API！"),rookie.pathname=window.location.pathname,rookie.appHost=window.location.host,rookie.userAgent=window.navigator.userAgent,rookie.platform=window.navigator.platform,setTimeout(function(){rookie.navTiming.loadEventEnd-rookie.navTiming.navigationStart<0&&rookie.errs.push("页面还在加载，获取数据失败！");var elem=document.getElementById("feException"),serverHost=elem.src.split("/bookie.js/")[0],img=new Image(1,1);img.src=serverHost+"/_fp.gif?"+encodeURIComponent(JSON.stringify(rookie))},0)}();var DOMReplicateIDDect=function(){for(var nodes=document.querySelectorAll("[id]"),ids={},totalNodes=nodes.length,i=0;i<totalNodes;i++){var currentId=nodes[i].id?nodes[i].id:"undefined";isNaN(ids[currentId])&&(ids[currentId]=0),ids[currentId]++}var duplicateIDs=[];for(i in ids)ids[i]>1&&duplicateIDs.push(i);return 0===duplicateIDs.length?null:duplicateIDs};!function(){null!=document.doctype&&void 0!=document.doctype||reportException(6,"未声明DOCTYPE","","","");var ids=DOMReplicateIDDect();null!=ids&&void 0!=ids&&reportException(6,"ID重复:"+ids.toString(),"","","ID重复:"+ids.toString())}(),function(){var linkNodes=Array.prototype.slice.call(document.querySelectorAll("a")),valideLinkNodes=linkNodes.filter(function(ele){return!/^[#|javascript:]/.test(ele.getAttribute("href"))&&/^[http|https]/.test(ele.href)&&""!==ele.getAttribute("href")}),linkArray=valideLinkNodes.map(function(ele){return ele.href}),linkArray2=[];!function unique(arr,newArr){var num;-1==arr.indexOf(num=arr.shift())&&newArr.push(num),arr.length&&unique(arr,newArr)}(linkArray,linkArray2),reportException(4,"","","",linkArray2)}();